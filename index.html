<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ Aces Word Imposter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
        import { getDatabase, ref, set, onValue, get } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCCpRYaFpZ0jkCe1bFdhXNsQfKuVzNRTaI",
            authDomain: "aces-word-imposter.firebaseapp.com",
            databaseURL: "https://aces-word-imposter-default-rtdb.firebaseio.com",
            projectId: "aces-word-imposter",
            storageBucket: "aces-word-imposter.firebasestorage.app",
            messagingSenderId: "449007119797",
            appId: "1:449007119797:web:0b924d99d59634a8d17dfc"
        };
        
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseOnValue = onValue;
        window.firebaseGet = get;
    </script>
    <style>
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons as inline SVGs
        const Users = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Copy = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        const Play = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
        );

        const Vote = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M9 11l3 3L22 4"></path>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
        );

        const Trophy = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
            </svg>
        );

        const RefreshCw = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 4 23 10 17 10"></polyline>
                <polyline points="1 20 1 14 7 14"></polyline>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
            </svg>
        );

        const Sparkles = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
                <path d="M5 3v4"></path>
                <path d="M19 17v4"></path>
                <path d="M3 5h4"></path>
                <path d="M17 19h4"></path>
            </svg>
        );

        function WordImposterGame() {
            const [screen, setScreen] = useState('home');
            const [roomCode, setRoomCode] = useState('');
            const [playerName, setPlayerName] = useState('');
            const [gameData, setGameData] = useState(null);
            const [myPlayerId, setMyPlayerId] = useState(null);
            const [copied, setCopied] = useState(false);
            const [roleRevealed, setRoleRevealed] = useState(false);
            const [myVote, setMyVote] = useState(null);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [generatingWord, setGeneratingWord] = useState(false);

            // Listen to Firebase game updates
            useEffect(() => {
                if (!roomCode || !window.firebaseDB) return;
                
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                const unsubscribe = window.firebaseOnValue(gameRef, (snapshot) => {
                    const data = snapshot.val();
                    if (data) {
                        setGameData(data);
                    }
                });

                return () => unsubscribe();
            }, [roomCode]);

            const generateRoomCode = () => {
                return Math.random().toString(36).substring(2, 8).toUpperCase();
            };

            const createRoom = async () => {
                if (!playerName.trim()) {
                    setError('Please enter your name');
                    return;
                }
                
                setLoading(true);
                setError('');
                const code = generateRoomCode();
                const playerId = Date.now().toString();
                
                const newGame = {
                    code,
                    host: playerId,
                    players: [{ id: playerId, name: playerName.trim(), vote: null }],
                    status: 'lobby',
                    word: null,
                    hint: null,
                    imposter: null,
                    createdAt: Date.now()
                };

                try {
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${code}`);
                    await window.firebaseSet(gameRef, newGame);
                    setRoomCode(code);
                    setMyPlayerId(playerId);
                    setGameData(newGame);
                    setScreen('lobby');
                } catch (err) {
                    setError('Failed to create room. Please try again.');
                    console.error(err);
                }
                setLoading(false);
            };

            const joinRoom = async () => {
                if (!playerName.trim()) {
                    setError('Please enter your name');
                    return;
                }
                if (!roomCode.trim()) {
                    setError('Please enter a room code');
                    return;
                }

                setLoading(true);
                setError('');
                
                try {
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode.toUpperCase()}`);
                    const snapshot = await window.firebaseGet(gameRef);
                    
                    if (!snapshot.exists()) {
                        setError('Room not found');
                        setLoading(false);
                        return;
                    }

                    const game = snapshot.val();
                    
                    if (game.status !== 'lobby') {
                        setError('Game already in progress');
                        setLoading(false);
                        return;
                    }

                    const playerId = Date.now().toString();
                    game.players.push({ id: playerId, name: playerName.trim(), vote: null });
                    
                    await window.firebaseSet(gameRef, game);
                    setMyPlayerId(playerId);
                    setGameData(game);
                    setRoomCode(roomCode.toUpperCase());
                    setScreen('lobby');
                } catch (err) {
                    setError('Failed to join room. Please try again.');
                    console.error(err);
                }
                setLoading(false);
            };

            const startGame = async () => {
                if (gameData.players.length < 3) {
                    setError('Need at least 3 players to start');
                    return;
                }

                setGeneratingWord(true);
                setError('');

                try {
                    // Call Claude API to generate random word and hint
                    const response = await fetch("https://api.anthropic.com/v1/messages", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            model: "claude-sonnet-4-20250514",
                            max_tokens: 1000,
                            messages: [
                                { 
                                    role: "user", 
                                    content: `Generate a random word for a word guessing game and a short hint (1-3 words) for someone who doesn't know the word. The word should be a common noun that most people would know. Respond ONLY with a JSON object in this exact format, no markdown, no extra text:
{"word": "the word", "hint": "short hint"}

Example: {"word": "Pizza", "hint": "Italian food"}` 
                                }
                            ],
                        })
                    });

                    const data = await response.json();
                    const textContent = data.content.find(item => item.type === "text")?.text || "";
                    
                    // Parse the JSON response
                    const wordData = JSON.parse(textContent.trim());
                    
                    const imposterIndex = Math.floor(Math.random() * gameData.players.length);
                    
                    const updatedGame = {
                        ...gameData,
                        status: 'playing',
                        word: wordData.word,
                        hint: wordData.hint,
                        imposter: gameData.players[imposterIndex].id,
                        startedAt: Date.now()
                    };

                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                    await window.firebaseSet(gameRef, updatedGame);
                    setGameData(updatedGame);
                } catch (err) {
                    console.error('Error generating word:', err);
                    setError('Failed to generate word. Please try again.');
                } finally {
                    setGeneratingWord(false);
                }
            };

            const submitVote = async (votedPlayerId) => {
                const updatedPlayers = gameData.players.map(p => 
                    p.id === myPlayerId ? { ...p, vote: votedPlayerId } : p
                );
                
                const updatedGame = {
                    ...gameData,
                    players: updatedPlayers
                };

                // Check if all players voted
                const allVoted = updatedPlayers.every(p => p.vote !== null);
                if (allVoted) {
                    updatedGame.status = 'results';
                }

                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseSet(gameRef, updatedGame);
                setGameData(updatedGame);
                setMyVote(votedPlayerId);
            };

            const resetGame = async () => {
                const resetPlayers = gameData.players.map(p => ({ ...p, vote: null }));
                const updatedGame = {
                    ...gameData,
                    players: resetPlayers,
                    status: 'lobby',
                    word: null,
                    hint: null,
                    imposter: null
                };

                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseSet(gameRef, updatedGame);
                setGameData(updatedGame);
                setRoleRevealed(false);
                setMyVote(null);
            };

            const copyRoomCode = () => {
                navigator.clipboard.writeText(roomCode);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const getVoteResults = () => {
                const votes = {};
                gameData.players.forEach(p => {
                    if (p.vote) {
                        votes[p.vote] = (votes[p.vote] || 0) + 1;
                    }
                });
                return votes;
            };

            const getMostVotedPlayer = () => {
                const votes = getVoteResults();
                let maxVotes = 0;
                let mostVoted = null;
                
                Object.entries(votes).forEach(([playerId, count]) => {
                    if (count > maxVotes) {
                        maxVotes = count;
                        mostVoted = playerId;
                    }
                });
                
                return mostVoted;
            };

            // Home Screen
            if (screen === 'home') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-8">
                                <h1 className="text-4xl font-bold text-gray-800 mb-2">üé≠ Aces Word Imposter</h1>
                                <p className="text-gray-600">Find the imposter, who is acting sus among you!!!</p>
                            </div>

                            <div className="space-y-4">
                                <input
                                    type="text"
                                    placeholder="Your Name"
                                    value={playerName}
                                    onChange={(e) => setPlayerName(e.target.value)}
                                    className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none"
                                />

                                {error && (
                                    <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl">
                                        {error}
                                    </div>
                                )}

                                <button
                                    onClick={createRoom}
                                    disabled={loading}
                                    className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors disabled:bg-gray-400"
                                >
                                    {loading ? 'Creating...' : 'Create New Game'}
                                </button>

                                <div className="flex items-center gap-2">
                                    <div className="flex-1 h-px bg-gray-300"></div>
                                    <span className="text-gray-500 text-sm">OR</span>
                                    <div className="flex-1 h-px bg-gray-300"></div>
                                </div>

                                <input
                                    type="text"
                                    placeholder="Room Code"
                                    value={roomCode}
                                    onChange={(e) => setRoomCode(e.target.value.toUpperCase())}
                                    className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none uppercase"
                                />

                                <button
                                    onClick={joinRoom}
                                    disabled={loading}
                                    className="w-full bg-pink-600 hover:bg-pink-700 text-white font-semibold py-3 rounded-xl transition-colors disabled:bg-gray-400"
                                >
                                    {loading ? 'Joining...' : 'Join Game'}
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Lobby Screen
            if (screen === 'lobby' && gameData?.status === 'lobby') {
                const isHost = myPlayerId === gameData.host;
                
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Game Lobby</h2>
                                <div className="flex items-center justify-center gap-2 bg-gray-100 rounded-xl p-3">
                                    <span className="text-2xl font-mono font-bold text-purple-600">{roomCode}</span>
                                    <button onClick={copyRoomCode} className="text-purple-600 hover:text-purple-700">
                                        {copied ? <Check size={20} /> : <Copy size={20} />}
                                    </button>
                                </div>
                                <p className="text-sm text-gray-600 mt-2">Share this code with friends</p>
                            </div>

                            <div className="mb-6">
                                <div className="flex items-center gap-2 mb-3">
                                    <Users className="text-purple-600" size={20} />
                                    <h3 className="font-semibold text-gray-800">Players ({gameData.players.length})</h3>
                                </div>
                                <div className="space-y-2">
                                    {gameData.players.map((player) => (
                                        <div key={player.id} className="bg-gray-100 rounded-xl p-3 flex items-center justify-between">
                                            <span className="font-medium text-gray-800">{player.name}</span>
                                            {player.id === gameData.host && (
                                                <span className="text-xs bg-purple-600 text-white px-2 py-1 rounded-full">Host</span>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {error && (
                                <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mb-4">
                                    {error}
                                </div>
                            )}

                            {isHost && (
                                <button
                                    onClick={startGame}
                                    disabled={generatingWord}
                                    className="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400"
                                >
                                    {generatingWord ? (
                                        <>
                                            <Sparkles size={20} className="animate-spin" />
                                            Generating Word...
                                        </>
                                    ) : (
                                        <>
                                            <Play size={20} />
                                            Start Game
                                        </>
                                    )}
                                </button>
                            )}

                            {!isHost && (
                                <div className="text-center text-gray-600">
                                    Waiting for host to start the game...
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            // Playing Screen - Role Reveal
            if (gameData?.status === 'playing' && !roleRevealed) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center">
                            <h2 className="text-3xl font-bold text-gray-800 mb-6">Your Role</h2>
                            <p className="text-gray-600 mb-8">Tap below to reveal your secret role</p>
                            
                            <button
                                onClick={() => setRoleRevealed(true)}
                                className="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-6 rounded-xl text-2xl transition-colors"
                            >
                                Reveal Role
                            </button>
                            
                            <p className="text-sm text-gray-500 mt-6">
                                Make sure nobody is looking at your screen!
                            </p>
                        </div>
                    </div>
                );
            }

            // Playing Screen - Role Shown
            if (gameData?.status === 'playing' && roleRevealed) {
                const isImposter = myPlayerId === gameData.imposter;
                
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-8">
                                {isImposter ? (
                                    <>
                                        <div className="text-6xl mb-4">üïµÔ∏è</div>
                                        <h2 className="text-3xl font-bold text-red-600 mb-4">You are the IMPOSTER!</h2>
                                        <div className="bg-red-100 border-2 border-red-400 rounded-xl p-4">
                                            <p className="text-gray-700 mb-2">Your hint:</p>
                                            <p className="text-2xl font-bold text-red-600">{gameData.hint}</p>
                                        </div>
                                        <p className="text-sm text-gray-600 mt-4">
                                            Try to blend in without knowing the secret word!
                                        </p>
                                    </>
                                ) : (
                                    <>
                                        <div className="text-6xl mb-4">üéØ</div>
                                        <h2 className="text-3xl font-bold text-green-600 mb-4">You know the word!</h2>
                                        <div className="bg-green-100 border-2 border-green-400 rounded-xl p-4">
                                            <p className="text-gray-700 mb-2">The secret word is:</p>
                                            <p className="text-3xl font-bold text-green-600">{gameData.word}</p>
                                        </div>
                                        <p className="text-sm text-gray-600 mt-4">
                                            Find the imposter who doesn't know this word!
                                        </p>
                                    </>
                                )}
                            </div>

                            <div className="space-y-4">
                                <div className="bg-gray-100 rounded-xl p-4">
                                    <h3 className="font-semibold text-gray-800 mb-2">How to Play:</h3>
                                    <ol className="text-sm text-gray-700 space-y-1 list-decimal list-inside">
                                        <li>Take turns asking each other questions</li>
                                        <li>Try to figure out who the imposter is</li>
                                        <li>When ready, everyone votes below</li>
                                    </ol>
                                </div>

                                <button
                                    onClick={() => setScreen('voting')}
                                    className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"
                                >
                                    <Vote size={20} />
                                    Ready to Vote
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Voting Screen
            if (screen === 'voting') {
                const myPlayer = gameData.players.find(p => p.id === myPlayerId);
                const hasVoted = myPlayer?.vote !== null;

                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Vote for the Imposter</h2>
                                <p className="text-gray-600">Who do you think is lying?</p>
                            </div>

                            <div className="space-y-3 mb-6">
                                {gameData.players.map((player) => (
                                    <button
                                        key={player.id}
                                        onClick={() => submitVote(player.id)}
                                        disabled={hasVoted || player.id === myPlayerId}
                                        className={`w-full p-4 rounded-xl font-semibold transition-colors ${
                                            player.id === myPlayerId
                                                ? 'bg-gray-200 text-gray-500 cursor-not-allowed'
                                                : myVote === player.id
                                                ? 'bg-purple-600 text-white'
                                                : hasVoted
                                                ? 'bg-gray-200 text-gray-500 cursor-not-allowed'
                                                : 'bg-gray-100 hover:bg-purple-100 text-gray-800'
                                        }`}
                                    >
                                        {player.name}
                                        {player.id === myPlayerId && ' (You)'}
                                        {myVote === player.id && ' ‚úì'}
                                    </button>
                                ))}
                            </div>

                            {hasVoted && (
                                <div className="text-center text-gray-600">
                                    <p className="font-semibold mb-2">Vote submitted!</p>
                                    <p className="text-sm">Waiting for other players...</p>
                                    <div className="mt-4 text-sm">
                                        {gameData.players.filter(p => p.vote !== null).length} / {gameData.players.length} voted
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            // Results Screen
            if (gameData?.status === 'results') {
                const mostVoted = getMostVotedPlayer();
                const imposterPlayer = gameData.players.find(p => p.id === gameData.imposter);
                const mostVotedPlayer = gameData.players.find(p => p.id === mostVoted);
                const imposterCaught = mostVoted === gameData.imposter;
                const voteResults = getVoteResults();
                const isHost = myPlayerId === gameData.host;

                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                <Trophy className="mx-auto text-yellow-500 mb-4" size={64} />
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Game Over!</h2>
                            </div>

                            <div className="space-y-4 mb-6">
                                <div className={`rounded-xl p-4 ${imposterCaught ? 'bg-green-100 border-2 border-green-400' : 'bg-red-100 border-2 border-red-400'}`}>
                                    <p className="text-center text-lg font-semibold mb-2">
                                        {imposterCaught ? 'üéâ Imposter Caught!' : 'üòà Imposter Escaped!'}
                                    </p>
                                    <p className="text-center text-gray-700">
                                        The imposter was: <span className="font-bold">{imposterPlayer.name}</span>
                                    </p>
                                </div>

                                <div className="bg-purple-100 border-2 border-purple-400 rounded-xl p-4">
                                    <p className="text-center text-gray-700 mb-2">The secret word was:</p>
                                    <p className="text-center text-2xl font-bold text-purple-600">{gameData.word}</p>
                                </div>

                                <div className="bg-gray-100 rounded-xl p-4">
                                    <h3 className="font-semibold text-gray-800 mb-3 text-center">Vote Results</h3>
                                    <div className="space-y-2">
                                        {gameData.players.map((player) => (
                                            <div key={player.id} className="flex justify-between items-center">
                                                <span className="text-gray-700">
                                                    {player.name}
                                                    {player.id === gameData.imposter && ' üïµÔ∏è'}
                                                </span>
                                                <span className="font-semibold text-purple-600">
                                                    {voteResults[player.id] || 0} votes
                                                </span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {isHost && (
                                <button
                                    onClick={resetGame}
                                    className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"
                                >
                                    <RefreshCw size={20} />
                                    Play Again
                                </button>
                            )}

                            {!isHost && (
                                <div className="text-center text-gray-600">
                                    Waiting for host to start next round...
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            return null;
        }

        ReactDOM.render(<WordImposterGame />, document.getElementById('root'));
    </script>
</body>
</html>