<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ Aces Word Imposter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
        import { getDatabase, ref, set, onValue, get, update } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCCpRYaFpZ0jkCe1bFdhXNsQfKuVzNRTaI",
            authDomain: "aces-word-imposter.firebaseapp.com",
            databaseURL: "https://aces-word-imposter-default-rtdb.firebaseio.com",
            projectId: "aces-word-imposter",
            storageBucket: "aces-word-imposter.firebasestorage.app",
            messagingSenderId: "449007119797",
            appId: "1:449007119797:web:0b924d99d59634a8d17dfc"
        };
        
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseOnValue = onValue;
        window.firebaseGet = get;
        window.firebaseUpdate = update;
    </script>
    <style>
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script id="word-bank" type="application/json">
[{"word":"Chandelier","hint":"Object"},{"word":"Stethoscope","hint":"Tool"},{"word":"Archipelago","hint":"Geography"},{"word":"Baguette","hint":"Food"},{"word":"Harmonica","hint":"Item"},{"word":"Amphitheater","hint":"Structure"},{"word":"Metronome","hint":"Device"},{"word":"Gazebo","hint":"Building"},{"word":"Abacus","hint":"Tool"},{"word":"Periscope","hint":"Device"},{"word":"Binoculars","hint":"Tool"},{"word":"Stiletto","hint":"Item"},{"word":"Easel","hint":"Equipment"},{"word":"Bellows","hint":"Tool"},{"word":"Colander","hint":"Utensil"},{"word":"Cravat","hint":"Clothing"},{"word":"Oboe","hint":"Item"},{"word":"Sextant","hint":"Tool"},{"word":"Lectern","hint":"Furniture"},{"word":"Scabbard","hint":"Container"},{"word":"Astrolabe","hint":"Device"},{"word":"Calipers","hint":"Tool"},{"word":"Bollard","hint":"Object"},{"word":"Trellis","hint":"Structure"},{"word":"Awning","hint":"Structure"},{"word":"Spigot","hint":"Part"},{"word":"Decanter","hint":"Container"},{"word":"Belfry","hint":"Building"},{"word":"Cleaver","hint":"Tool"},{"word":"Tureen","hint":"Container"},{"word":"Harpoon","hint":"Tool"},{"word":"Mortarboard","hint":"Item"},{"word":"Cummerbund","hint":"Clothing"},{"word":"Brazier","hint":"Object"},{"word":"Cauldron","hint":"Container"},{"word":"Inkwell","hint":"Container"},{"word":"Lathe","hint":"Machine"},{"word":"Pram","hint":"Vehicle"},{"word":"Davit","hint":"Equipment"},{"word":"Carafe","hint":"Container"},{"word":"Mandolin","hint":"Item"},{"word":"Escargot","hint":"Food"},{"word":"Cartographer","hint":"Profession"},{"word":"Toboggan","hint":"Equipment"},{"word":"Amphora","hint":"Container"},{"word":"Drawbridge","hint":"Structure"},{"word":"Brassiere","hint":"Clothing"},{"word":"Campanile","hint":"Building"},{"word":"Pennant","hint":"Item"},{"word":"Bodice","hint":"Clothing"},{"word":"Corbel","hint":"Part"},{"word":"Satchel","hint":"Container"},{"word":"Turret","hint":"Structure"},{"word":"Cornice","hint":"Part"},{"word":"Pinnacle","hint":"Part"},{"word":"Beret","hint":"Clothing"},{"word":"Sconce","hint":"Object"},{"word":"Mullion","hint":"Part"},{"word":"Glockenspiel","hint":"Item"},{"word":"Epaulet","hint":"Clothing"},{"word":"Monocle","hint":"Item"},{"word":"Gimbal","hint":"Device"},{"word":"Cartouche","hint":"Object"},{"word":"Portcullis","hint":"Structure"},{"word":"Flagon","hint":"Container"},{"word":"Parapet","hint":"Structure"},{"word":"Balustrade","hint":"Structure"},{"word":"Censer","hint":"Object"},{"word":"Finial","hint":"Part"},{"word":"Chalice","hint":"Container"},{"word":"Reliquary","hint":"Container"},{"word":"Rotunda","hint":"Structure"},{"word":"Obelisk","hint":"Structure"},{"word":"Portico","hint":"Structure"},{"word":"Sepulcher","hint":"Structure"},{"word":"Vestibule","hint":"Space"},{"word":"Cloister","hint":"Area"},{"word":"Granary","hint":"Building"},{"word":"Catacomb","hint":"Place"},{"word":"Mausoleum","hint":"Building"},{"word":"Colosseum","hint":"Structure"},{"word":"Aqueduct","hint":"Structure"},{"word":"Basilica","hint":"Building"},{"word":"Citadel","hint":"Structure"},{"word":"Rampart","hint":"Structure"},{"word":"Buttress","hint":"Support"},{"word":"Minaret","hint":"Structure"},{"word":"Pagoda","hint":"Building"},{"word":"Monastery","hint":"Building"},{"word":"Turquoise","hint":"Thing"},{"word":"Topaz","hint":"Thing"},{"word":"Sapphire","hint":"Thing"},{"word":"Emerald","hint":"Thing"},{"word":"Amethyst","hint":"Thing"},{"word":"Garnet","hint":"Thing"},{"word":"Opal","hint":"Thing"},{"word":"Jasper","hint":"Thing"},{"word":"Quartz","hint":"Thing"},{"word":"Obsidian","hint":"Thing"},{"word":"Alabaster","hint":"Material"},{"word":"Pumice","hint":"Material"},{"word":"Feldspar","hint":"Material"},{"word":"Gypsum","hint":"Material"},{"word":"Granite","hint":"Material"},{"word":"Basalt","hint":"Material"},{"word":"Limestone","hint":"Material"},{"word":"Sandstone","hint":"Material"},{"word":"Shale","hint":"Material"},{"word":"Slate","hint":"Material"},{"word":"Marrow","hint":"Thing"},{"word":"Tendon","hint":"Part"},{"word":"Cartilage","hint":"Part"},{"word":"Ligament","hint":"Part"},{"word":"Epidermis","hint":"Part"},{"word":"Femur","hint":"Part"},{"word":"Clavicle","hint":"Part"},{"word":"Sternum","hint":"Part"},{"word":"Patella","hint":"Part"},{"word":"Scapula","hint":"Part"},{"word":"Mandible","hint":"Part"},{"word":"Radius","hint":"Part"},{"word":"Ulna","hint":"Part"},{"word":"Tibia","hint":"Part"},{"word":"Fibula","hint":"Part"},{"word":"Cranium","hint":"Part"},{"word":"Vertebra","hint":"Part"},{"word":"Pelvis","hint":"Part"},{"word":"Esophagus","hint":"Part"},{"word":"Trachea","hint":"Part"},{"word":"Larynx","hint":"Part"},{"word":"Pharynx","hint":"Part"},{"word":"Bronchus","hint":"Part"},{"word":"Alveoli","hint":"Part"},{"word":"Ventricle","hint":"Part"},{"word":"Atrium","hint":"Part"},{"word":"Aorta","hint":"Part"},{"word":"Capillary","hint":"Part"},{"word":"Platelet","hint":"Thing"},{"word":"Hemoglobin","hint":"Thing"},{"word":"Sombrero","hint":"Clothing"},{"word":"Poncho","hint":"Clothing"},{"word":"Kimono","hint":"Clothing"},{"word":"Sarong","hint":"Clothing"},{"word":"Tunic","hint":"Clothing"},{"word":"Toga","hint":"Clothing"},{"word":"Shawl","hint":"Clothing"},{"word":"Sari","hint":"Clothing"},{"word":"Kaftan","hint":"Clothing"},{"word":"Dashiki","hint":"Clothing"},{"word":"Lederhosen","hint":"Clothing"},{"word":"Dirndl","hint":"Clothing"},{"word":"Kilt","hint":"Clothing"},{"word":"Fez","hint":"Clothing"},{"word":"Turban","hint":"Clothing"},{"word":"Balaclava","hint":"Clothing"},{"word":"Parka","hint":"Clothing"},{"word":"Anorak","hint":"Clothing"},{"word":"Cardigan","hint":"Clothing"},{"word":"Waistcoat","hint":"Clothing"},{"word":"Camisole","hint":"Clothing"},{"word":"Petticoat","hint":"Clothing"},{"word":"Corset","hint":"Clothing"},{"word":"Bustle","hint":"Clothing"},{"word":"Crinoline","hint":"Clothing"},{"word":"Pantaloons","hint":"Clothing"},{"word":"Jodhpurs","hint":"Clothing"},{"word":"Galoshes","hint":"Clothing"},{"word":"Espadrilles","hint":"Clothing"},{"word":"Moccasins","hint":"Clothing"},{"word":"Loafers","hint":"Clothing"},{"word":"Brogues","hint":"Clothing"},{"word":"Oxfords","hint":"Clothing"},{"word":"Clogs","hint":"Clothing"},{"word":"Ukulele","hint":"Item"},{"word":"Banjo","hint":"Item"},{"word":"Dulcimer","hint":"Item"},{"word":"Lute","hint":"Item"},{"word":"Zither","hint":"Item"},{"word":"Harpsichord","hint":"Item"},{"word":"Clavichord","hint":"Item"},{"word":"Synthesizer","hint":"Item"},{"word":"Accordion","hint":"Item"},{"word":"Concertina","hint":"Item"},{"word":"Bagpipes","hint":"Item"},{"word":"Didgeridoo","hint":"Item"},{"word":"Marimba","hint":"Item"},{"word":"Vibraphone","hint":"Item"},{"word":"Xylophone","hint":"Item"},{"word":"Timpani","hint":"Item"},{"word":"Tambourine","hint":"Item"},{"word":"Castanets","hint":"Item"},{"word":"Cymbal","hint":"Item"},{"word":"Gong","hint":"Item"},{"word":"Chime","hint":"Item"},{"word":"Triangle","hint":"Item"},{"word":"Clarinet","hint":"Item"},{"word":"Bassoon","hint":"Item"},{"word":"Piccolo","hint":"Item"},{"word":"Flute","hint":"Item"},{"word":"Trombone","hint":"Item"},{"word":"Tuba","hint":"Item"},{"word":"Euphonium","hint":"Item"},{"word":"Cornet","hint":"Item"},{"word":"Bugle","hint":"Item"},{"word":"Theremin","hint":"Item"},{"word":"Organ","hint":"Item"},{"word":"Celeste","hint":"Item"},{"word":"Kettledrum","hint":"Item"},{"word":"Boomerang","hint":"Object"},{"word":"Machete","hint":"Tool"},{"word":"Scythe","hint":"Tool"},{"word":"Sickle","hint":"Tool"},{"word":"Trowel","hint":"Tool"},{"word":"Awl","hint":"Tool"},{"word":"Chisel","hint":"Tool"},{"word":"Rasp","hint":"Tool"},{"word":"Mallet","hint":"Tool"},{"word":"Adze","hint":"Tool"},{"word":"Pickaxe","hint":"Tool"},{"word":"Mattock","hint":"Tool"},{"word":"Billhook","hint":"Tool"},{"word":"Pruner","hint":"Tool"},{"word":"Secateurs","hint":"Tool"},{"word":"Shears","hint":"Tool"},{"word":"Scalpel","hint":"Tool"},{"word":"Lancet","hint":"Tool"},{"word":"Forceps","hint":"Tool"},{"word":"Retractor","hint":"Tool"},{"word":"Speculum","hint":"Tool"},{"word":"Syringe","hint":"Tool"},{"word":"Catheter","hint":"Tool"},{"word":"Tourniquet","hint":"Tool"},{"word":"Defibrillator","hint":"Device"},{"word":"Nebulizer","hint":"Device"},{"word":"Spirometer","hint":"Device"},{"word":"Otoscope","hint":"Device"},{"word":"Ophthalmoscope","hint":"Device"},{"word":"Laryngoscope","hint":"Device"},{"word":"Endoscope","hint":"Device"},{"word":"Bronchoscope","hint":"Device"},{"word":"Arthroscope","hint":"Device"},{"word":"Laparoscope","hint":"Device"},{"word":"Colonoscope","hint":"Device"},{"word":"Cystoscope","hint":"Device"},{"word":"Thermometer","hint":"Device"},{"word":"Sphygmomanometer","hint":"Device"},{"word":"Electrocardiograph","hint":"Device"},{"word":"Electroencephalograph","hint":"Device"},{"word":"Centrifuge","hint":"Device"},{"word":"Incubator","hint":"Device"},{"word":"Autoclave","hint":"Device"},{"word":"Spectrometer","hint":"Device"},{"word":"Chromatograph","hint":"Device"},{"word":"Oscilloscope","hint":"Device"},{"word":"Geiger","hint":"Device"},{"word":"Barometer","hint":"Device"},{"word":"Altimeter","hint":"Device"},{"word":"Hygrometer","hint":"Device"},{"word":"Anemometer","hint":"Device"},{"word":"Seismograph","hint":"Device"},{"word":"Theodolite","hint":"Device"},{"word":"Odometer","hint":"Device"},{"word":"Tachometer","hint":"Device"},{"word":"Speedometer","hint":"Device"},{"word":"Dynamometer","hint":"Device"},{"word":"Voltmeter","hint":"Device"},{"word":"Ammeter","hint":"Device"},{"word":"Galvanometer","hint":"Device"},{"word":"Multimeter","hint":"Device"},{"word":"Potentiometer","hint":"Device"},{"word":"Rheostat","hint":"Device"},{"word":"Transformer","hint":"Device"},{"word":"Capacitor","hint":"Component"},{"word":"Resistor","hint":"Component"},{"word":"Transistor","hint":"Component"},{"word":"Diode","hint":"Component"},{"word":"Inductor","hint":"Component"},{"word":"Rectifier","hint":"Component"},{"word":"Inverter","hint":"Device"},{"word":"Amplifier","hint":"Device"},{"word":"Oscillator","hint":"Device"},{"word":"Modulator","hint":"Device"},{"word":"Demodulator","hint":"Device"},{"word":"Transducer","hint":"Device"},{"word":"Actuator","hint":"Device"},{"word":"Solenoid","hint":"Component"},{"word":"Relay","hint":"Component"},{"word":"Contactor","hint":"Component"},{"word":"Thermostat","hint":"Device"},{"word":"Humidistat","hint":"Device"},{"word":"Gyroscope","hint":"Device"},{"word":"Accelerometer","hint":"Device"},{"word":"Magnetometer","hint":"Device"},{"word":"Photometer","hint":"Device"},{"word":"Luxmeter","hint":"Device"},{"word":"Radiometer","hint":"Device"},{"word":"Calorimeter","hint":"Device"},{"word":"Pyrometer","hint":"Device"},{"word":"Viscometer","hint":"Device"},{"word":"Refractometer","hint":"Device"},{"word":"Polarimeter","hint":"Device"},{"word":"Spectrophotometer","hint":"Device"},{"word":"Densitometer","hint":"Device"},{"word":"Turbidimeter","hint":"Device"},{"word":"Tensiometer","hint":"Device"},{"word":"Extensometer","hint":"Device"},{"word":"Torsionmeter","hint":"Device"},{"word":"Planimeter","hint":"Device"},{"word":"Clinometer","hint":"Device"},{"word":"Inclinometer","hint":"Device"},{"word":"Goniometer","hint":"Device"},{"word":"Protractor","hint":"Tool"},{"word":"Compass","hint":"Tool"},{"word":"Divider","hint":"Tool"},{"word":"Straightedge","hint":"Tool"},{"word":"Template","hint":"Tool"},{"word":"Stencil","hint":"Tool"},{"word":"Pantograph","hint":"Device"},{"word":"Micrometer","hint":"Tool"},{"word":"Vernier","hint":"Tool"},{"word":"Feeler","hint":"Tool"},{"word":"Plumb","hint":"Tool"},{"word":"Level","hint":"Tool"},{"word":"Square","hint":"Tool"},{"word":"Bevel","hint":"Tool"},{"word":"Jig","hint":"Tool"},{"word":"Fixture","hint":"Tool"},{"word":"Clamp","hint":"Tool"},{"word":"Vise","hint":"Tool"},{"word":"Anvil","hint":"Tool"},{"word":"Crucible","hint":"Container"},{"word":"Retort","hint":"Container"},{"word":"Beaker","hint":"Container"},{"word":"Flask","hint":"Container"},{"word":"Burette","hint":"Container"},{"word":"Pipette","hint":"Tool"},{"word":"Dropper","hint":"Tool"},{"word":"Funnel","hint":"Tool"},{"word":"Mortar","hint":"Tool"},{"word":"Pestle","hint":"Tool"},{"word":"Spatula","hint":"Tool"},{"word":"Stirrer","hint":"Tool"},{"word":"Tongs","hint":"Tool"},{"word":"Tweezers","hint":"Tool"},{"word":"Scoop","hint":"Tool"},{"word":"Ladle","hint":"Tool"},{"word":"Strainer","hint":"Tool"},{"word":"Sieve","hint":"Tool"},{"word":"Grater","hint":"Tool"},{"word":"Peeler","hint":"Tool"},{"word":"Zester","hint":"Tool"},{"word":"Mandoline","hint":"Tool"},{"word":"Ricer","hint":"Tool"},{"word":"Masher","hint":"Tool"},{"word":"Whisk","hint":"Tool"},{"word":"Skimmer","hint":"Tool"},{"word":"Baster","hint":"Tool"},{"word":"Timer","hint":"Device"},{"word":"Scale","hint":"Device"},{"word":"Mixer","hint":"Device"},{"word":"Blender","hint":"Device"},{"word":"Processor","hint":"Device"},{"word":"Grinder","hint":"Device"},{"word":"Juicer","hint":"Device"},{"word":"Toaster","hint":"Device"},{"word":"Griddle","hint":"Item"},{"word":"Skillet","hint":"Item"},{"word":"Saucepan","hint":"Item"},{"word":"Stockpot","hint":"Item"},{"word":"Wok","hint":"Item"},{"word":"Casserole","hint":"Item"},{"word":"Ramekin","hint":"Container"},{"word":"Souffl√©","hint":"Food"},{"word":"Bouillabaisse","hint":"Food"},{"word":"Ratatouille","hint":"Food"},{"word":"Bourguignon","hint":"Food"},{"word":"Cassoulet","hint":"Food"},{"word":"Confit","hint":"Food"},{"word":"Terrine","hint":"Food"},{"word":"P√¢t√©","hint":"Food"},{"word":"Bisque","hint":"Food"},{"word":"Velout√©","hint":"Food"},{"word":"B√©chamel","hint":"Food"},{"word":"Hollandaise","hint":"Food"},{"word":"B√©arnaise","hint":"Food"},{"word":"Consomm√©","hint":"Food"},{"word":"Gazpacho","hint":"Food"},{"word":"Minestrone","hint":"Food"},{"word":"Chowder","hint":"Food"},{"word":"Gumbo","hint":"Food"},{"word":"Jambalaya","hint":"Food"},{"word":"Paella","hint":"Food"},{"word":"Risotto","hint":"Food"},{"word":"Polenta","hint":"Food"},{"word":"Gnocchi","hint":"Food"},{"word":"Ravioli","hint":"Food"},{"word":"Tortellini","hint":"Food"},{"word":"Cannelloni","hint":"Food"},{"word":"Lasagna","hint":"Food"},{"word":"Manicotti","hint":"Food"},{"word":"Carbonara","hint":"Food"},{"word":"Puttanesca","hint":"Food"},{"word":"Arrabiata","hint":"Food"},{"word":"Bolognese","hint":"Food"},{"word":"Marinara","hint":"Food"},{"word":"Pesto","hint":"Food"},{"word":"Alfredo","hint":"Food"},{"word":"Primavera","hint":"Food"},{"word":"Cacciatore","hint":"Food"},{"word":"Piccata","hint":"Food"},{"word":"Marsala","hint":"Food"},{"word":"Parmigiana","hint":"Food"},{"word":"Saltimbocca","hint":"Food"},{"word":"Carpaccio","hint":"Food"},{"word":"Prosciutto","hint":"Food"},{"word":"Pancetta","hint":"Food"},{"word":"Mortadella","hint":"Food"},{"word":"Capicola","hint":"Food"},{"word":"Bresaola","hint":"Food"},{"word":"Salami","hint":"Food"},{"word":"Chorizo","hint":"Food"},{"word":"Andouille","hint":"Food"},{"word":"Bratwurst","hint":"Food"},{"word":"Kielbasa","hint":"Food"},{"word":"Knackwurst","hint":"Food"},{"word":"Liverwurst","hint":"Food"},{"word":"Blutwurst","hint":"Food"},{"word":"Weisswurst","hint":"Food"},{"word":"Currywurst","hint":"Food"},{"word":"Schnitzel","hint":"Food"},{"word":"Sp√§tzle","hint":"Food"},{"word":"Sauerkraut","hint":"Food"},{"word":"Strudel","hint":"Food"},{"word":"Pretzel","hint":"Food"},{"word":"Pumpernickel","hint":"Food"},{"word":"Sourdough","hint":"Food"},{"word":"Ciabatta","hint":"Food"},{"word":"Focaccia","hint":"Food"},{"word":"Brioche","hint":"Food"},{"word":"Challah","hint":"Food"}]
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const WORD_BANK = JSON.parse(document.getElementById('word-bank').textContent);

        // Icons
        const Users = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>;
        const Copy = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>;
        const Check = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"></polyline></svg>;
        const Play = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>;
        const Vote = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 11l3 3L22 4"></path><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>;
        const Trophy = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 22h16"></path><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path></svg>;
        const RefreshCw = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>;
        const Sparkles = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path><path d="M5 3v4"></path><path d="M19 17v4"></path><path d="M3 5h4"></path><path d="M17 19h4"></path></svg>;
        const ArrowRight = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>;

        function WordImposterGame() {
            const [gameData, setGameData] = useState(null);
            const [myPlayerId, setMyPlayerId] = useState(null);
            const [playerName, setPlayerName] = useState('');
            const [roomCode, setRoomCode] = useState('');
            const [screen, setScreen] = useState('home');
            const [copied, setCopied] = useState(false);
            const [roleRevealed, setRoleRevealed] = useState(false);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [generatingWord, setGeneratingWord] = useState(false);
            const [votingTimeLeft, setVotingTimeLeft] = useState(null);

            useEffect(() => {
                if (!roomCode || !window.firebaseDB) return;
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                const unsubscribe = window.firebaseOnValue(gameRef, (snapshot) => {
                    const data = snapshot.val();
                    if (data) setGameData(data);
                });
                return () => unsubscribe();
            }, [roomCode]);

            // Voting timer
            useEffect(() => {
                if (gameData?.status !== 'voting') {
                    setVotingTimeLeft(null);
                    return;
                }

                // Initialize timer if it doesn't exist
                if (!gameData.votingEndsAt) {
                    const votingEndsAt = Date.now() + 60000; // 60 seconds
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                    window.firebaseUpdate(gameRef, { votingEndsAt });
                    return;
                }

                // Update countdown
                const interval = setInterval(() => {
                    const timeLeft = Math.max(0, Math.ceil((gameData.votingEndsAt - Date.now()) / 1000));
                    setVotingTimeLeft(timeLeft);

                    // Time's up - move to results
                    if (timeLeft === 0 && gameData.status === 'voting') {
                        const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                        window.firebaseUpdate(gameRef, { status: 'results' });
                    }
                }, 100);

                return () => clearInterval(interval);
            }, [gameData?.status, gameData?.votingEndsAt, roomCode]);

            const generateRoomCode = () => Math.random().toString(36).substring(2, 8).toUpperCase();

            const getRandomWord = async () => {
                // Load word bank from Firebase if not already loaded
                if (!WORD_BANK) {
                    const wordBankRef = window.firebaseRef(window.firebaseDB, 'wordBank/words');
                    const wordBankSnapshot = await window.firebaseGet(wordBankRef);
                    if (wordBankSnapshot.exists()) {
                        WORD_BANK = wordBankSnapshot.val();
                    } else {
                        throw new Error('Word bank not found in Firebase. Please upload words first.');
                    }
                }

                const globalRef = window.firebaseRef(window.firebaseDB, 'globalUsedWords');
                const snapshot = await window.firebaseGet(globalRef);
                let usedWords = [], lastReset = 0;
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    usedWords = data.usedWords || [];
                    lastReset = data.lastReset || 0;
                }
                const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);
                const needsReset = usedWords.length >= WORD_BANK.length || lastReset < thirtyDaysAgo;
                if (needsReset) { usedWords = []; lastReset = Date.now(); }
                const availableWords = WORD_BANK.filter(w => !usedWords.includes(w.word));
                if (availableWords.length === 0) return WORD_BANK[Math.floor(Math.random() * WORD_BANK.length)];
                const selectedWord = availableWords[Math.floor(Math.random() * availableWords.length)];
                usedWords.push(selectedWord.word);
                await window.firebaseSet(globalRef, { usedWords, lastReset });
                return selectedWord;
            };

            const createRoom = async () => {
                if (!playerName.trim()) { setError('Please enter your name'); return; }
                setLoading(true); setError('');
                const code = generateRoomCode();
                const playerId = Date.now().toString();
                const newGame = { code, host: playerId, players: [{ id: playerId, name: playerName.trim() }], status: 'lobby', word: null, hint: null, imposter: null, currentTurn: 0, createdAt: Date.now() };
                try {
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${code}`);
                    await window.firebaseSet(gameRef, newGame);
                    setRoomCode(code); setMyPlayerId(playerId); setGameData(newGame); setScreen('lobby');
                } catch (err) { setError('Failed to create room. Please try again.'); }
                setLoading(false);
            };

            const joinRoom = async () => {
                if (!playerName.trim()) { setError('Please enter your name'); return; }
                if (!roomCode.trim()) { setError('Please enter a room code'); return; }
                setLoading(true); setError('');
                try {
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode.toUpperCase()}`);
                    const snapshot = await window.firebaseGet(gameRef);
                    if (!snapshot.exists()) { setError('Room not found'); setLoading(false); return; }
                    const game = snapshot.val();
                    if (game.status !== 'lobby') { setError('Game already in progress'); setLoading(false); return; }
                    const playerId = Date.now().toString();
                    game.players.push({ id: playerId, name: playerName.trim() });
                    await window.firebaseSet(gameRef, game);
                    setMyPlayerId(playerId); setGameData(game); setRoomCode(roomCode.toUpperCase()); setScreen('lobby');
                } catch (err) { setError('Failed to join room. Please try again.'); }
                setLoading(false);
            };

            const startGame = async () => {
                if (gameData.players.length < 3) { setError('Need at least 3 players to start'); return; }
                setGeneratingWord(true); setError('');
                try {
                    const wordData = await getRandomWord();
                    const imposterIndex = Math.floor(Math.random() * gameData.players.length);
                    const updatedGame = { ...gameData, status: 'playing', word: wordData.word, hint: wordData.hint, imposter: gameData.players[imposterIndex].id, currentTurn: 0, startedAt: Date.now() };
                    const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                    await window.firebaseSet(gameRef, updatedGame);
                    setGameData(updatedGame);
                } catch (err) { setError('Failed to start game. Please try again.'); }
                finally { setGeneratingWord(false); }
            };

            const nextTurn = async () => {
                const nextTurnIndex = (gameData.currentTurn + 1) % gameData.players.length;
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseUpdate(gameRef, { currentTurn: nextTurnIndex });
            };

            const startVoting = async () => {
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseUpdate(gameRef, { status: 'voting' });
            };

            const submitVote = async (votedPlayerId) => {
                const updatedPlayers = gameData.players.map(p => p.id === myPlayerId ? { ...p, vote: votedPlayerId } : p);
                const updatedGame = { ...gameData, players: updatedPlayers };
                const allVoted = updatedPlayers.every(p => p.vote !== null);
                if (allVoted) updatedGame.status = 'results';
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseSet(gameRef, updatedGame);
                setGameData(updatedGame);
            };

            const resetGame = async () => {
                const resetPlayers = gameData.players.map(p => ({ id: p.id, name: p.name, vote: null }));
                const updatedGame = { ...gameData, players: resetPlayers, status: 'lobby', word: null, hint: null, imposter: null, currentTurn: 0 };
                const gameRef = window.firebaseRef(window.firebaseDB, `games/${roomCode}`);
                await window.firebaseSet(gameRef, updatedGame);
                setGameData(updatedGame);
                setRoleRevealed(false);
            };

            const copyRoomCode = () => {
                navigator.clipboard.writeText(roomCode);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const getVoteResults = () => {
                const votes = {};
                gameData.players.forEach(p => { if (p.vote) votes[p.vote] = (votes[p.vote] || 0) + 1; });
                return votes;
            };

            const getMostVotedPlayer = () => {
                const votes = getVoteResults();
                let maxVotes = 0, mostVoted = null;
                Object.entries(votes).forEach(([playerId, count]) => { if (count > maxVotes) { maxVotes = count; mostVoted = playerId; } });
                return mostVoted;
            };

            if (screen === 'home') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-8">
                                <h1 className="text-4xl font-bold text-gray-800 mb-2">üé≠ Aces Word Imposter</h1>
                                <p className="text-gray-600">Find the imposter, who is acting sus among you!!!</p>
                            </div>
                            <div className="space-y-4">
                                <input type="text" placeholder="Your Name" value={playerName} onChange={(e) => setPlayerName(e.target.value)} className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none" />
                                {error && <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl text-sm">{error}</div>}
                                <button onClick={createRoom} disabled={loading} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors disabled:bg-gray-400">{loading ? 'Creating...' : 'Create New Game'}</button>
                                <div className="flex items-center gap-2"><div className="flex-1 h-px bg-gray-300"></div><span className="text-gray-500 text-sm">OR</span><div className="flex-1 h-px bg-gray-300"></div></div>
                                <input type="text" placeholder="Room Code" value={roomCode} onChange={(e) => setRoomCode(e.target.value.toUpperCase())} className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none uppercase" />
                                <button onClick={joinRoom} disabled={loading} className="w-full bg-pink-600 hover:bg-pink-700 text-white font-semibold py-3 rounded-xl transition-colors disabled:bg-gray-400">{loading ? 'Joining...' : 'Join Game'}</button>
                            </div>
                        </div>
                    </div>
                );
            }

            if (screen === 'lobby' && gameData?.status === 'lobby') {
                const isHost = myPlayerId === gameData.host;
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Game Lobby</h2>
                                <div className="flex items-center justify-center gap-2 bg-gray-100 rounded-xl p-3">
                                    <span className="text-2xl font-mono font-bold text-purple-600">{roomCode}</span>
                                    <button onClick={copyRoomCode} className="text-purple-600 hover:text-purple-700">{copied ? <Check size={20} /> : <Copy size={20} />}</button>
                                </div>
                                <p className="text-sm text-gray-600 mt-2">Share this code with friends</p>
                            </div>
                            <div className="mb-6">
                                <div className="flex items-center gap-2 mb-3"><Users size={20} className="text-purple-600" /><h3 className="font-semibold text-gray-800">Players ({gameData.players.length})</h3></div>
                                <div className="space-y-2">{gameData.players.map((player) => <div key={player.id} className="bg-gray-100 rounded-xl p-3 flex items-center justify-between"><span className="font-medium text-gray-800">{player.name}</span>{player.id === gameData.host && <span className="text-xs bg-purple-600 text-white px-2 py-1 rounded-full">Host</span>}</div>)}</div>
                            </div>
                            {error && <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mb-4 text-sm">{error}</div>}
                            {isHost && <button onClick={startGame} disabled={generatingWord} className="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400">{generatingWord ? <><Sparkles size={20} className="animate-spin" />Selecting Word...</> : <><Play size={20} />Start Game</>}</button>}
                            {!isHost && <div className="text-center text-gray-600">Waiting for host to start the game...</div>}
                        </div>
                    </div>
                );
            }

            if (gameData?.status === 'playing' && !roleRevealed) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center">
                            <h2 className="text-3xl font-bold text-gray-800 mb-6">Your Role</h2>
                            <p className="text-gray-600 mb-8">Tap below to reveal your secret role</p>
                            <button onClick={() => setRoleRevealed(true)} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-6 rounded-xl text-2xl transition-colors">Reveal Role</button>
                            <p className="text-sm text-gray-500 mt-6">Make sure nobody is looking at your screen!</p>
                        </div>
                    </div>
                );
            }

            if (gameData?.status === 'playing' && roleRevealed) {
                const isImposter = myPlayerId === gameData.imposter;
                const isHost = myPlayerId === gameData.host;
                const currentPlayer = gameData.players[gameData.currentTurn];
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                {isImposter ? <><div className="text-6xl mb-4">üïµÔ∏è</div><h2 className="text-3xl font-bold text-red-600 mb-4">You are the IMPOSTER!</h2><div className="bg-red-100 border-2 border-red-400 rounded-xl p-4"><p className="text-gray-700 mb-2">Your hint:</p><p className="text-2xl font-bold text-red-600">{gameData.hint}</p></div><p className="text-sm text-gray-600 mt-4">Try to blend in without knowing the secret word!</p></> : <><div className="text-6xl mb-4">üéØ</div><h2 className="text-3xl font-bold text-green-600 mb-4">You know the word!</h2><div className="bg-green-100 border-2 border-green-400 rounded-xl p-4"><p className="text-gray-700 mb-2">The secret word is:</p><p className="text-3xl font-bold text-green-600">{gameData.word}</p></div><p className="text-sm text-gray-600 mt-4">Find the imposter who doesn't know this word!</p></>}
                            </div>
                            <div className="space-y-4">
                                <div className="bg-blue-100 border-2 border-blue-400 rounded-xl p-4"><p className="text-center text-sm text-gray-700 mb-2">Current Turn:</p><p className="text-center text-2xl font-bold text-blue-600">{currentPlayer.name}</p></div>
                                <div className="bg-gray-100 rounded-xl p-4"><h3 className="font-semibold text-gray-800 mb-2">How to Play:</h3><ol className="text-sm text-gray-700 space-y-1 list-decimal list-inside"><li>Take turns asking each other questions</li><li>Try to figure out who the imposter is</li><li>When ready, host starts voting</li></ol></div>
                                {isHost && <><button onClick={nextTurn} className="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"><ArrowRight size={20} />Next Player</button><button onClick={startVoting} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"><Vote size={20} />Start Voting</button></>}
                                {!isHost && <div className="text-center text-sm text-gray-600">Host controls turn order and voting</div>}
                            </div>
                        </div>
                    </div>
                );
            }

            if (gameData?.status === 'voting') {
                const myPlayer = gameData.players.find(p => p.id === myPlayerId);
                const hasVoted = myPlayer && myPlayer.vote !== null && myPlayer.vote !== undefined;
                const myVote = myPlayer?.vote;
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6">
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Vote for the Imposter</h2>
                                <p className="text-gray-600">Who do you think is lying?</p>
                                {votingTimeLeft !== null && (
                                    <div className={`mt-4 text-4xl font-bold ${votingTimeLeft <= 10 ? 'text-red-600' : 'text-blue-600'}`}>
                                        {votingTimeLeft}s
                                    </div>
                                )}
                            </div>
                            <div className="space-y-3 mb-6">{gameData.players.map((player) => <button key={player.id} onClick={() => submitVote(player.id)} disabled={hasVoted || player.id === myPlayerId} className={`w-full p-4 rounded-xl font-semibold transition-colors ${player.id === myPlayerId ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : myVote === player.id ? 'bg-purple-600 text-white' : hasVoted ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-gray-100 hover:bg-purple-100 text-gray-800'}`}>{player.name}{player.id === myPlayerId && ' (You)'}{myVote === player.id && ' ‚úì'}</button>)}</div>
                            {hasVoted && <div className="text-center text-gray-600"><p className="font-semibold mb-2">Vote submitted!</p><p className="text-sm">Waiting for other players...</p><div className="mt-4 text-sm">{gameData.players.filter(p => p.vote !== null && p.vote !== undefined).length} / {gameData.players.length} voted</div></div>}
                        </div>
                    </div>
                );
            }

            if (gameData?.status === 'results') {
                const mostVoted = getMostVotedPlayer();
                const imposterPlayer = gameData.players.find(p => p.id === gameData.imposter);
                const imposterCaught = mostVoted === gameData.imposter;
                const voteResults = getVoteResults();
                const isHost = myPlayerId === gameData.host;
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-6"><Trophy size={64} className="mx-auto text-yellow-500 mb-4" /><h2 className="text-3xl font-bold text-gray-800 mb-2">Game Over!</h2></div>
                            <div className="space-y-4 mb-6">
                                <div className={`rounded-xl p-4 ${imposterCaught ? 'bg-green-100 border-2 border-green-400' : 'bg-red-100 border-2 border-red-400'}`}><p className="text-center text-lg font-semibold mb-2">{imposterCaught ? 'üéâ Imposter Caught!' : 'üòà Imposter Escaped!'}</p><p className="text-center text-gray-700">The imposter was: <span className="font-bold">{imposterPlayer.name}</span></p></div>
                                <div className="bg-purple-100 border-2 border-purple-400 rounded-xl p-4"><p className="text-center text-gray-700 mb-2">The secret word was:</p><p className="text-center text-2xl font-bold text-purple-600">{gameData.word}</p></div>
                                <div className="bg-gray-100 rounded-xl p-4"><h3 className="font-semibold text-gray-800 mb-3 text-center">Vote Results</h3><div className="space-y-2">{gameData.players.map((player) => <div key={player.id} className="flex justify-between items-center"><span className="text-gray-700">{player.name}{player.id === gameData.imposter && ' üïµÔ∏è'}</span><span className="font-semibold text-purple-600">{voteResults[player.id] || 0} votes</span></div>)}</div></div>
                            </div>
                            {isHost && <button onClick={resetGame} className="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center gap-2"><RefreshCw size={20} />Play Again</button>}
                            {!isHost && <div className="text-center text-gray-600">Waiting for host to start next round...</div>}
                        </div>
                    </div>
                );
            }

            return null;
        }

        ReactDOM.render(<WordImposterGame />, document.getElementById('root'));
    </script>
</body>
</html>